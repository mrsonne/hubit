# The model file is a list of Hubit components
# The order of the components is not important
# To allow for some comments the attributes have been 
# separated by blank lines in this example

- # Component that retrieves thermal conductivities

  # Path where the module with the component is located
  path: ./components/thermal_conductivity.py 
  
  # Function name in the module
  func_name: thermal_conductivity 
  
  # The model component provides the thermal conductivity for  
  # for one layer in one segment 
  provides : 
    - name: k_therm # internal name in the compoment
      path: segments._IDX.layers._IDX.k_therm # path in the shared data model

  consumes:
    # To compute the thermal conductivities the material 
    # for the layer in the segment need be known. These should 
    # be provided in the input file for each layer in each 
    # segment
    input:
      - name: material
        path: segments._IDX.layers._IDX.material

  
- # Component that calculates the thermal profile
  path: ./components/thermal_profile.py
  func_name: thermal_prof

  provides:
    - name: outer_temperature_all_layers
      path: segments._IDX.layers.:.outer_temperature
    - name: heat_flux
      path: segments._IDX.heat_flux
  
  consumes:
    input: 
      - name: temp_in
        path: segments._IDX.inside.temperature
      - name: temp_out
        path: segments._IDX.outside.temperature
      - name: thicknesses
        path: segments._IDX.layers.:.thickness
    results: 
      - name: ks_walls 
        path: segments._IDX.layers.:.k_therm
